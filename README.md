# üöó Test Drive Booking Service

–°–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤–æ–≤ –≤ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞—Ö.  
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç.
---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker & Docker Compose
- Git

### –ó–∞–ø—É—Å–∫

```bash
git clone <repository-url>
cd test-drive-service
cp ./app/.env.example ./app/.env
```

#### –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ë–î
```env
DB_HOST=db
DB_DATABASE=test_drive
DB_USERNAME=testuser
DB_PASSWORD=secret
```

#### –ó–∞–ø—É—Å–∫–∞–µ–º docker-compose

```bash
docker-compose up -d
```

**–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Composer-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (Vite + Vue 3)
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ –ü–æ—Å–µ–≤ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö (–∞–≤—Ç–æ–º–æ–±–∏–ª–∏, —Å–ª–æ—Ç—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

| –°–µ—Ä–≤–∏—Å | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|
| **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** | http://localhost:8085 | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤ (Inertia + Vue 3) |
| **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** | http://localhost:8085/admin | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω—è–º–∏, –∞–≤—Ç–æ, —Å–ª–æ—Ç–∞–º–∏ (Filament v5) |
| **API** | http://localhost:8085/api | REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π |
| **Swagger UI** | http://localhost:8086 | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenAPI 3.0 |
| **MySQL** | localhost:3306 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏) |

### –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

#### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
| –†–æ–ª—å | Email | –ü–∞—Ä–æ–ª—å |
|------|-------|--------|
| –ú–µ–Ω–µ–¥–∂–µ—Ä | `manager@example.com` | `password` |

---

### –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ API –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–†–µ—à–µ–Ω–∏–µ:** –ü—É–±–ª–∏—á–Ω—ã–π API —Å–∫—Ä—ã–≤–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (PII), –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é.

```php
// GET /api/bookings?page=1&per_page=20&car_id=1
{
  "current_page": 1,
  "data": [
    {
      "id": 1,
      "car": { "model": "Tesla Model 3" },
      "slot": { "start_time": "2026-02-23 14:00", "end_time": "15:00" },
      "status": "confirmed"
      // ‚ùå customer_name, customer_phone ‚Äî —Å–∫—Ä—ã—Ç—ã
    }
  ],
  "total": 87,
  "last_page": 5
}
```

**–ü–æ—á–µ–º—É:**
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ GDPR / 152-–§–ó (—Å–∫—Ä—ã—Ç–∏–µ PII)
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

---

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ stdout/stderr (12-Factor App)

**–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ –ª–æ–≥–∏ (PHP, Laravel, Nginx) –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ç–æ–∫–∏.

```ini
; docker/php/php.ini
error_log = /proc/self/fd/2

; docker/php/www.conf
catch_workers_output = yes
php_admin_value[error_log] = /proc/self/fd/2
```

**–ü–æ—á–µ–º—É:**
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Docker, Kubernetes, CI/CD
- ‚úÖ –õ–æ–≥–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `docker logs`, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—é—Ç—Å—è —Å ELK/Loki
- ‚úÖ –ù–µ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä—ã—Ç Feature-—Ç–µ—Å—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏
- ‚úÖ –ó–∞—â–∏—Ç—É –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–≤–µ—Ä–±—É–∫–∏–Ω–≥)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π (409 Conflict)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
docker-compose exec app php artisan test
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤:**
```
tests/
‚îî‚îÄ‚îÄ Feature/
    ‚îî‚îÄ‚îÄ BookingTest.php
        ‚îú‚îÄ‚îÄ test_can_create_booking()
        ‚îú‚îÄ‚îÄ test_cannot_book_same_slot_twice()
        ‚îú‚îÄ‚îÄ test_validation_fails_without_required_fields()
        ‚îî‚îÄ‚îÄ test_api_hides_personal_data()
```

---

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ **OpenAPI 3.0**:

- **–§–∞–π–ª:** [`docs/openapi.yaml`](docs/openapi.yaml)
- **Swagger UI:** http://localhost:8086

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å—ã |
|-------|------|----------|---------|
| `POST` | `/api/bookings` | –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω—å | 201, 409, 422 |
| `GET` | `/api/bookings` | –°–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–µ–π (–ø–∞–≥–∏–Ω–∞—Ü–∏—è) | 200 |
| `GET` | `/api/bookings/check` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–ª–æ—Ç–∞ | 200, 400 |

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X POST http://localhost:8085/api/bookings \
  -H "Content-Type: application/json" \
  -d '{
    "car_id": 1,
    "slot_id": 5,
    "customer_name": "Ivan",
    "customer_phone": "+79990000000"
  }'
```

---

## üéõ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (Filament v5)

–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º UI.

**URL:** http://localhost:8085/admin

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
- ‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±—Ä–æ–Ω–µ–π (FullCalendar plugin)
- ‚úÖ –ü—Ä–∏–Ω—è—Ç–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ (Actions)
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –¥–∞—Ç–µ
- ‚úÖ –ü–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

---

## üñ• –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (Inertia + Vue 3)

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π SPA-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤.

**URL:** http://localhost:8085

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–ª–æ—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å –¥–µ—Ç–∞–ª—è–º–∏ –±—Ä–æ–Ω–∏
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (Tailwind CSS)

---

## üê≥ Docker –∏ DevOps

### –ú—É–ª—å—Ç–∏—Å—Ç–∞–¥–∏–π–Ω–∞—è —Å–±–æ—Ä–∫–∞

```dockerfile
# –≠—Ç–∞–ø 1: –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
FROM node:24-alpine AS frontend
RUN npm ci && npm run build

# –≠—Ç–∞–ø 2: PHP Runtime
FROM php:8.5-fpm
COPY --from=frontend /app/public/build ./public/build
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ú–∞–ª–µ–Ω—å–∫–∏–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ (–Ω–µ—Ç Node.js –≤ —Ä–∞–Ω—Ç–∞–π–º–µ)
- ‚úÖ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–∞—è —Å–±–æ—Ä–∫–∞
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—ë–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è CI/CD

### Entrypoint-—Å–∫—Ä–∏–ø—Ç

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ:
1.  –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ë–î
2.  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Composer-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3.  –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
4.  –ü–æ—Å–µ–≤ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------------|------------|
| **PHP** | 8.5            | –Ø–∑—ã–∫ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏ |
| **Laravel** | 12.x           | Backend-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| **Filament** | 5.x            | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å |
| **Inertia.js** | 2.x            | –°–≤—è–∑–∫–∞ Laravel + Vue |
| **Vue 3** | 3.x            | –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ |
| **MySQL** | 8.0            | –†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î |
| **Nginx** | Alpine         | –í–µ–±-—Å–µ—Ä–≤–µ—Ä / Reverse proxy |
| **Docker** | Compose v2.20+ | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è |
| **Vite** | 7.x            | –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ |
| **Tailwind CSS** | 4.x            | –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Å—Ç–∏–ª–∏ |

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ app/                          # Laravel –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ)
‚îÇ   ‚îú‚îÄ‚îÄ app/                      # PHP –∫–æ–¥ (Models, Actions, DTO, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ bootstrap/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ seeders/
‚îÇ   ‚îú‚îÄ‚îÄ public/                   # public/index.php –∏ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –∞—Å—Å–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ js/                   # Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views/
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ composer.json
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ ...                       # –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã Laravel
‚îÇ
‚îú‚îÄ‚îÄ docker/                       # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ conf.d/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ default.conf
‚îÇ   ‚îú‚îÄ‚îÄ php/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ php.ini
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ www.conf
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ openapi.yaml
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ entrypoint.sh
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
```

---

> **–ê–≤—Ç–æ—Ä:** [–í–∞—à–µ –ò–º—è]  
> **–ö–æ–Ω—Ç–∞–∫—Ç—ã:** [your.email@example.com]  
> **GitHub:** [github.com/yourusername](https://github.com/yourusername)

---